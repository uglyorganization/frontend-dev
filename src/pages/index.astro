---
import Layout from "../layouts/Layout.astro";
import Header from "../components/Header.astro";
import Story from "../components/Story.astro";
import SectionTitle from "../components/SectionTitle.astro";
import List from "../components/List.astro";
import ListItem from "../components/ListItem.astro";
import Section from "../components/Section.astro";
import userData from "../data/users.json";
const title = "the ugly company";
const story = `top users in /dev`;
---

<Layout title={title} desc={"we write ugly code"}>
  <Header title={title} description={"we write ugly code"} />
  <Story story={story} />
  <div class="grid grid-cols-5 gap-6">
  <Section>
    <SectionTitle title="total votes" />
    <List>
      {
        userData
        .sort((a, b) => b.totalVotes - a.totalVotes) 
        .slice(0, 25)
        .map((u) => (
          <ListItem title={u.user} desc={u.totalVotes} />
        ))
      }
    </List>
  </Section>
    <Section>
    <SectionTitle title="max votes" />
    <List>
      {
        userData
        .sort((a, b) => b.maxVotes - a.maxVotes) 
        .slice(0, 25)
        .map((u) => (
          <ListItem title={u.user} desc={u.maxVotes} />
        ))
      }
    </List>
  </Section>
  <Section>
    <SectionTitle title="contributions" />
    <List>
      {
        userData
        .sort((a, b) => b.numberPosts - a.numberPosts) 
        .slice(0, 25)
        .map((u) => (
          <ListItem title={u.user} desc={u.numberPosts} />
        ))
      }
    </List>
  </Section>
  <Section> <SectionTitle title="toxicity" /> </Section>
  <Section> <SectionTitle title="impact" /> </Section>
  </div>
</Layout>
